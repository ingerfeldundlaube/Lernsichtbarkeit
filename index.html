<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Lernsichtbarkeit</title>

  <style>
    :root{
      --bg:#0f4c5c;
      --panel:#1b6a75;
      --panel2:#155b66;
      --text:#eaf6f6;
      --muted:#cfe8e8;
      --accent:#f4a261;
      --danger:#d64545;
      --line:rgba(255,255,255,.18);
    }

    *{box-sizing:border-box}

    body{
      margin:0;
      font-family: system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
      background:var(--bg);
      color:var(--text);
    }

    .container{
      max-width:1200px;
      margin:0 auto;
      padding:28px 18px 90px;
    }

    .topright{
      display:flex;
      justify-content:flex-end;
      font-weight:600;
      font-size:.95rem;
      opacity:.9;
    }

    h1{
      margin:14px 0 6px;
      font-size:clamp(1.7rem,2.8vw,2.35rem);
      text-align:center;
      letter-spacing:-0.01em;
    }

    h2{
      margin:0 0 18px;
      font-size:1.05rem;
      font-weight:600;
      text-align:center;
      color:var(--muted);
    }

    .rule{
      height:1px;
      background:var(--line);
      margin:18px 0 18px;
    }

    .rowgrid,
    .catgrid{
      display:grid;
      grid-template-columns:1fr;
      gap:14px;
      margin-bottom:14px;
      align-items:stretch;
    }

    @media (min-width: 900px){
      .rowgrid{ grid-template-columns:repeat(3, 1fr); }
      .catgrid{ grid-template-columns:repeat(3, 1fr); }
    }

    .cathead{
      padding:8px 6px 10px;
      border-bottom:2px solid rgba(255,255,255,.22);
    }
    .cathead .title{
      margin:0;
      font-size:1.15rem;
      font-weight:950;
      letter-spacing:-0.01em;
      line-height:1.1;
    }
    .cathead .sub{
      margin:6px 0 0;
      color:var(--muted);
      font-size:.95rem;
      font-weight:650;
      line-height:1.25;
    }

    .box{
      background:var(--panel);
      border:1px solid var(--line);
      border-radius:16px;
      padding:12px 12px 10px;
    }

    .tile{
      display:flex;
      flex-direction:column;
      gap:10px;
    }

    .tilehead{
      min-height: 44px;
      display:flex;
      align-items:flex-start;
    }

    .label{
      margin:0;
      font-weight:950;
      color:var(--text);
      line-height:1.2;
      font-size:1.02rem;
    }

    .sliderwrap{
      min-height: 58px;
      display:flex;
      flex-direction:column;
      gap:8px;
    }

    input[type="range"]{
      width:100%;
      accent-color: var(--accent);
    }

    .scale{
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:8px;
      margin-top:-2px;
    }

    .chip{
      width:28px;
      height:22px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.45);
      display:flex;
      align-items:center;
      justify-content:center;
      font-weight:950;
      font-size:.85rem;
      color:var(--text);
      background: rgba(255,255,255,.08);
      opacity:.9;
    }
    .chip.active{
      background: rgba(244,162,97,.25);
      border-color: rgba(244,162,97,.75);
      opacity:1;
    }

    /* 4) Kleine Kästen: pro Regler 3 Einträge immer gleich hoch */
    .short{
      display:grid;
      gap:8px;
      grid-template-rows: repeat(3, 1fr);
      height: 228px; /* alle drei Zeilen zusammen gleich hoch */
    }
    .sitem{
      display:flex;
      gap:10px;
      align-items:flex-start;
      padding:8px 10px;
      border:1px solid var(--line);
      border-radius:14px;
      background: rgba(0,0,0,.08);
      overflow:hidden;
    }

    .stag{
      flex:0 0 auto;
      width:22px;
      height:22px;
      border-radius:999px;
      background: rgba(255,255,255,.14);
      border:1px solid var(--line);
      display:flex;
      align-items:center;
      justify-content:center;
      font-weight:950;
      font-size:.85rem;
      color:var(--text);
      margin-top:1px;
    }

    .stext{
      color:var(--muted);
      font-size:.92rem;
      line-height:1.25;
    }

    details{
      width:100%;
      border-top:1px solid var(--line);
      padding-top:10px;
      margin-top:0;
    }

    summary{
      list-style:none;
      cursor:pointer;
      user-select:none;
      color:var(--text);
      font-weight:950;
      font-size:.92rem;
      opacity:.95;
    }
    summary::-webkit-details-marker{ display:none; }

    .more{
      margin-top:10px;
      padding:12px 12px;
      border:1px solid var(--line);
      border-radius:14px;
      background: rgba(0,0,0,.10);
    }

    .stages{
      margin:0;
      padding-left:18px;
      color:var(--muted);
      font-size:.92rem;
      line-height:1.3;
    }
    .stages li{ margin:6px 0; }
    .stages b{ color:var(--text); }

    .btnrow{
      display:flex;
      gap:10px;
      justify-content:center;
      margin:16px 0 8px;
      flex-wrap:wrap;
    }

    .btn{
      border:1px solid var(--line);
      background:var(--panel2);
      color:var(--text);
      padding:10px 14px;
      border-radius:12px;
      font-weight:950;
      font-size:.95rem;
    }
    .btn-danger{
      background:var(--danger);
      border-color:transparent;
    }
    .btn-accent{
      background:var(--accent);
      border-color:transparent;
      color:#1f2328;
    }

    /* 2) Formatspinne */
    #spider{
      background: rgba(0,0,0,.06);
      border:1px solid var(--line);
      border-radius:14px;
    }
    .spiderbox{ margin: 18px 0 0; }

    .footer{
      position:fixed;
      left:0; right:0; bottom:0;
      background:rgba(15,76,92,.92);
      border-top:1px solid var(--line);
      color:var(--muted);
      padding:10px 14px;
      font-size:.95rem;
    }
    .footer a{ color:var(--text); text-decoration:none; }
    .footer a:hover{ text-decoration:underline; }
    .footer .inner{
      max-width:1200px;
      margin:0 auto;
      display:flex;
      gap:10px;
      justify-content:center;
      flex-wrap:wrap;
    }
  </style>
</head>

<body>
  <div class="container">
    <div class="topright">Catrin Ingerfeld-Bloemertz</div>

    <h1>Wie können wir Lernende aktivieren, motivieren und sie darin unterstützen, ihr Lernen und ihre Leistung sichtbar zu machen?</h1>
    <h2>Aktivierung, Motivation und Sichtbarmachen mit Schiebereglern reflektieren.</h2>

    <div class="rule"></div>

    <div class="catgrid">
      <div class="cathead">
        <p class="title">Lernen aktivieren</p>
        <p class="sub">(Was tun Lernende im Lernprozess?)</p>
      </div>
      <div class="cathead">
        <p class="title">Lernen motivieren</p>
        <p class="sub">(Warum bleiben Lernende dran und bringen sich ein?)</p>
      </div>
      <div class="cathead">
        <p class="title">Lernen sichtbar machen</p>
        <p class="sub">(Wie wird Lernen sichtbar und kann anschlussfähig auch für die gemeinsame Weiterentwicklung sein?)</p>
      </div>
    </div>

    <!-- ZEILE 1 -->
    <div class="rowgrid">
      <div class="box slider-row">
        <div class="tile">
          <div class="tilehead"><p class="label">1.1 Kognitive Aktivierung/Aufgabenqualität</p></div>
          <div class="sliderwrap">
            <input class="slider" type="range" min="0" max="2" step="1" value="0">
            <div class="scale" aria-hidden="true">
              <span class="chip" data-chip="0">1</span>
              <span class="chip" data-chip="1">2</span>
              <span class="chip" data-chip="2">3</span>
            </div>
          </div>
          <div class="short">
            <div class="sitem"><div class="stag">1</div><div class="stext">Bekannte Aufgabenformate nach Schema-F bearbeiten</div></div>
            <div class="sitem"><div class="stag">2</div><div class="stext">Vorwissen aktivieren & bedeutsame Probleme lösen</div></div>
            <div class="sitem"><div class="stag">3</div><div class="stext">Strategien transferieren & Vorgehen reflektieren</div></div>
          </div>
          <details>
            <summary>Wortlaut anzeigen</summary>
            <div class="more">
              <ul class="stages">
                <li><b>Stufe 1:</b> Lernende wenden vorgegebenes Wissen routiniert an, um bekannte Aufgabenformate zu bearbeiten.</li>
                <li><b>Stufe 2:</b> Lernende aktivieren Vorwissen, erklären Zusammenhänge und lösen bedeutsame Probleme mit offenem Lösungsweg.</li>
                <li><b>Stufe 3:</b> Lernende bearbeiten offene, anspruchsvolle Situationen ohne eindeutige Lösungen, transferieren Strategien und reflektieren ihr Vorgehen.</li>
              </ul>
            </div>
          </details>
        </div>
      </div>

      <div class="box slider-row">
        <div class="tile">
          <div class="tilehead"><p class="label">2.1 Bedeutsamkeit & Sinn des Lerngegenstandes</p></div>
          <div class="sliderwrap">
            <input class="slider" type="range" min="0" max="2" step="1" value="0">
            <div class="scale" aria-hidden="true">
              <span class="chip" data-chip="0">1</span>
              <span class="chip" data-chip="1">2</span>
              <span class="chip" data-chip="2">3</span>
            </div>
          </div>
          <div class="short">
            <div class="sitem"><div class="stag">1</div><div class="stext">Pflichtaufgaben</div></div>
            <div class="sitem"><div class="stag">2</div><div class="stext">Transparente Ziele & erste Anknüpfungspunkte</div></div>
            <div class="sitem"><div class="stag">3</div><div class="stext">Knüpft an Lebenswelt an & ist bedeutsam</div></div>
          </div>
          <details>
            <summary>Wortlaut anzeigen</summary>
            <div class="more">
              <ul class="stages">
                <li><b>Stufe 1:</b> Lerngegenstände sind vorgegeben und werden überwiegend als schulische Pflichtaufgaben erlebt.</li>
                <li><b>Stufe 2:</b> Lerngegenstände werden in ihren Zielen transparent gemacht & mit ersten Anknüpfungspunkten zu Erfahrungen oder Interessen der Lernenden verknüpft.</li>
                <li><b>Stufe 3:</b> Lerngegenstände knüpfen an Fragen, Erfahrungen oder aktuellen Themen der Lernenden an und werden als sinnvoll und bedeutsam erlebt.</li>
              </ul>
            </div>
          </details>
        </div>
      </div>

      <div class="box slider-row">
        <div class="tile">
          <div class="tilehead"><p class="label">3.1 Transparenz von Qualität & Beurteilungskriterien</p></div>
          <div class="sliderwrap">
            <input class="slider" type="range" min="0" max="2" step="1" value="0">
            <div class="scale" aria-hidden="true">
              <span class="chip" data-chip="0">1</span>
              <span class="chip" data-chip="1">2</span>
              <span class="chip" data-chip="2">3</span>
            </div>
          </div>
          <div class="short">
            <div class="sitem"><div class="stag">1</div><div class="stext">Kriterien bei Lehrkraft</div></div>
            <div class="sitem"><div class="stag">2</div><div class="stext">Offengelegte Kriterien: Einschätzung abgleichen & Weiterarbeit planen</div></div>
            <div class="sitem"><div class="stag">3</div><div class="stext">Kriterien gemeinsam entwickeln & nutzen</div></div>
          </div>
          <details>
            <summary>Wortlaut anzeigen</summary>
            <div class="more">
              <ul class="stages">
                <li><b>Stufe 1:</b> Beurteilungskriterien liegen überwiegend bei der Lehrkraft, Lernende erhalten Rückmeldungen zu Ergebnissen, Selbstbeurteilung spielt kaum eine Rolle.</li>
                <li><b>Stufe 2:</b> Kriterien für Qualität werden erklärt und offengelegt, Lernende beziehen sich darauf, um eigenes Lernen zu begründen, Beiträge einzuordnen und nächste Lernschritte zu klären.</li>
                <li><b>Stufe 3:</b> Kriterien für Qualität werden gemeinsam entwickelt und ausgehandelt, Lernende nutzen sie aktiv zur Selbst-, Peer- und Prozessbeurteilung.</li>
              </ul>
            </div>
          </details>
        </div>
      </div>
    </div>

    <!-- ZEILE 2 -->
    <div class="rowgrid">
      <div class="box slider-row">
        <div class="tile">
          <div class="tilehead"><p class="label">1.2 Aktive Prozessbeteiligung</p></div>
          <div class="sliderwrap">
            <input class="slider" type="range" min="0" max="2" step="1" value="0">
            <div class="scale" aria-hidden="true">
              <span class="chip" data-chip="0">1</span>
              <span class="chip" data-chip="1">2</span>
              <span class="chip" data-chip="2">3</span>
            </div>
          </div>
          <div class="short">
            <div class="sitem"><div class="stag">1</div><div class="stext">Vorgehen vorgegeben</div></div>
            <div class="sitem"><div class="stag">2</div><div class="stext">Wahlmöglichkeiten im Rahmen</div></div>
            <div class="sitem"><div class="stag">3</div><div class="stext">Gemeinsam planen & abstimmen</div></div>
          </div>
          <details>
            <summary>Wortlaut anzeigen</summary>
            <div class="more">
              <ul class="stages">
                <li><b>Stufe 1:</b> Die Lehrkraft legt Vorgehen, Reihenfolge und Arbeitsschritte fest, Lernende folgen den Abläufen.</li>
                <li><b>Stufe 2:</b> Lernende wählen zwischen verschiedenen Vorgehensweisen und Strategien innerhalb eines gemeinsam gesetzten Rahmens.</li>
                <li><b>Stufe 3:</b> Lernende planen Arbeitsabläufe und Strategien mit, übernehmen Rollen und stimmen ihr Vorgehen im Lernprozess gemeinsam ab.</li>
              </ul>
            </div>
          </details>
        </div>
      </div>

      <div class="box slider-row">
        <div class="tile">
          <div class="tilehead"><p class="label">2.2 Teilnahme, Mitgestaltung & Verantwortung</p></div>
          <div class="sliderwrap">
            <input class="slider" type="range" min="0" max="2" step="1" value="0">
            <div class="scale" aria-hidden="true">
              <span class="chip" data-chip="0">1</span>
              <span class="chip" data-chip="1">2</span>
              <span class="chip" data-chip="2">3</span>
            </div>
          </div>
          <div class="short">
            <div class="sitem"><div class="stag">1</div><div class="stext">Reaktiv beteiligt</div></div>
            <div class="sitem"><div class="stag">2</div><div class="stext">Ideen einbringen & Verantwortung übernehmen</div></div>
            <div class="sitem"><div class="stag">3</div><div class="stext">Lernprozesse aktiv mitgestalten</div></div>
          </div>
          <details>
            <summary>Wortlaut anzeigen</summary>
            <div class="more">
              <ul class="stages">
                <li><b>Stufe 1:</b> Lernende beteiligen sich vor allem reaktiv an vorgegebenen Aufgaben und Entscheidungen.</li>
                <li><b>Stufe 2:</b> Lernende bringen eigene Ideen ein und übernehmen begrenzte Verantwortung innerhalb gesetzter Strukturen.</li>
                <li><b>Stufe 3:</b> Lernende gestalten Lernprozesse aktiv mit, übernehmen Verantwortung für gemeinsame Vorhaben und erleben ihr Handeln als bedeutsam für den Verlauf des Lernens.</li>
              </ul>
            </div>
          </details>
        </div>
      </div>

      <div class="box slider-row">
        <div class="tile">
          <div class="tilehead"><p class="label">3.2 Reflexion von Lernprozessen & Lernentwicklung</p></div>
          <div class="sliderwrap">
            <input class="slider" type="range" min="0" max="2" step="1" value="0">
            <div class="scale" aria-hidden="true">
              <span class="chip" data-chip="0">1</span>
              <span class="chip" data-chip="1">2</span>
              <span class="chip" data-chip="2">3</span>
            </div>
          </div>
          <div class="short">
            <div class="sitem"><div class="stag">1</div><div class="stext">Ergebnisse im Fokus</div></div>
            <div class="sitem"><div class="stag">2</div><div class="stext">Lernen beschreiben & einordnen</div></div>
            <div class="sitem"><div class="stag">3</div><div class="stext">Lernwege reflektieren & Schlussfolgerungen nutzen</div></div>
          </div>
          <details>
            <summary>Wortlaut anzeigen</summary>
            <div class="more">
              <ul class="stages">
                <li><b>Stufe 1:</b> Sichtbar werden vor allem Ergebnisse oder Endprodukte. Wie Lernen zustande kommt, bleibt weitgehend unbeachtet.</li>
                <li><b>Stufe 2:</b> Lernende blicken angeleitet auf ihr Lernen zurück, beschreiben Lernfortschritte und erste Vorgehensweisen und setzen diese in Beziehung zu den Lernzielen.</li>
                <li><b>Stufe 3:</b> Lernende reflektieren Lernwege, Strategien, Herausforderungen und Fortschritte bewusst, ziehen Schlussfolgerungen für ihr weiteres Lernen und nutzen diese für zukünftige Prozesse.</li>
              </ul>
            </div>
          </details>
        </div>
      </div>
    </div>

    <!-- ZEILE 3 -->
    <div class="rowgrid">
      <div class="box slider-row">
        <div class="tile">
          <div class="tilehead"><p class="label">1.3 Selbstwirksamkeit</p></div>
          <div class="sliderwrap">
            <input class="slider" type="range" min="0" max="2" step="1" value="0">
            <div class="scale" aria-hidden="true">
              <span class="chip" data-chip="0">1</span>
              <span class="chip" data-chip="1">2</span>
              <span class="chip" data-chip="2">3</span>
            </div>
          </div>
          <div class="short">
            <div class="sitem"><div class="stag">1</div><div class="stext">Pflichterfüllung</div></div>
            <div class="sitem"><div class="stag">2</div><div class="stext">Fortschritte erleben & Zutrauen gewinnen</div></div>
            <div class="sitem"><div class="stag">3</div><div class="stext">Erfolge reflektieren & nutzen</div></div>
          </div>
          <details>
            <summary>Wortlaut anzeigen</summary>
            <div class="more">
              <ul class="stages">
                <li><b>Stufe 1:</b> Lernen wird v.a. als Pflichterfüllung erlebt, Erfolg wird von außen bestätigt.</li>
                <li><b>Stufe 2:</b> Lernende erleben erste Erfolge, erkennen eigene Fortschritte und gewinnen Vertrauen in die eigenen Fähigkeiten.</li>
                <li><b>Stufe 3:</b> Lernende erfahren sich als wirksam, reflektieren eigene Erfolge und machen diese für zukünftige Lernprozesse nutzbar.</li>
              </ul>
            </div>
          </details>
        </div>
      </div>

      <div class="box slider-row">
        <div class="tile">
          <div class="tilehead"><p class="label">2.3 Resonanz, Anerkennung & Wirksamkeit</p></div>
          <div class="sliderwrap">
            <input class="slider" type="range" min="0" max="2" step="1" value="0">
            <div class="scale" aria-hidden="true">
              <span class="chip" data-chip="0">1</span>
              <span class="chip" data-chip="1">2</span>
              <span class="chip" data-chip="2">3</span>
            </div>
          </div>
          <div class="short">
            <div class="sitem"><div class="stag">1</div><div class="stext">Notenorientiert & lehrkraftzentriert</div></div>
            <div class="sitem"><div class="stag">2</div><div class="stext">Lernstand klären & Anerkennung geben</div></div>
            <div class="sitem"><div class="stag">3</div><div class="stext">Resonanz erfahren & fortwirken</div></div>
          </div>
          <details>
            <summary>Wortlaut anzeigen</summary>
            <div class="more">
              <ul class="stages">
                <li><b>Stufe 1:</b> Rückmeldungen erfolgen überwiegend bewertend und individuell durch die Lehrkraft.</li>
                <li><b>Stufe 2:</b> Lernende erhalten Rückmeldungen zu ihrem Lernstand und erleben Anerkennung für Beiträge und Anstrengung.</li>
                <li><b>Stufe 3:</b> Beiträge der Lernenden finden Resonanz bei anderen, werden aufgegriffen und wirken im weiteren Lernprozess oder im gemeinsamen Produkt fort.</li>
              </ul>
            </div>
          </details>
        </div>
      </div>

      <div class="box slider-row">
        <div class="tile">
          <div class="tilehead"><p class="label">3.3 Wirkung & Anschlussfähigkeit in der Schulgemeinde</p></div>
          <div class="sliderwrap">
            <input class="slider" type="range" min="0" max="2" step="1" value="0">
            <div class="scale" aria-hidden="true">
              <span class="chip" data-chip="0">1</span>
              <span class="chip" data-chip="1">2</span>
              <span class="chip" data-chip="2">3</span>
            </div>
          </div>
          <div class="short">
            <div class="sitem"><div class="stag">1</div><div class="stext">Bedeutung für Einzelne</div></div>
            <div class="sitem"><div class="stag">2</div><div class="stext">In Lerngruppe sichtbar</div></div>
            <div class="sitem"><div class="stag">3</div><div class="stext">In Schulgemeinde aufgreifen & weiterentwickeln</div></div>
          </div>
          <details>
            <summary>Wortlaut anzeigen</summary>
            <div class="more">
              <ul class="stages">
                <li><b>Stufe 1:</b> Lernergebnisse einzelner Lernender erhalten vor allem Bedeutung für sie selbst.</li>
                <li><b>Stufe 2:</b> Lernergebnisse werden in der Lerngruppe sichtbar gemacht und erfahren Aufmerksamkeit, Rückmeldung und Resonanz.</li>
                <li><b>Stufe 3:</b> Lernergebnisse und Prozesse werden in der Schulgemeinde aufgegriffen, weitergeführt und weiterentwickelt und tragen zur gemeinsamen Gestaltung von Schul- und Unterrichtsentwicklung bei.</li>
              </ul>
            </div>
          </details>
        </div>
      </div>
    </div>

    <!-- 2) Spinne wirklich unten -->
    <div class="box spiderbox">
      <p class="label" style="margin-bottom:10px;">Formatspinne</p>
      <canvas id="spider" width="900" height="520" style="width:100%; height:auto;"></canvas>
    </div>

    <div class="btnrow">
      <button class="btn btn-danger" type="button" id="reset">Alle Regler zurücksetzen</button>
      <button class="btn btn-accent" type="button">Materialien herunterladen</button>
    </div>
  </div>

  <div class="footer">
    <div class="inner">
      <strong>Ingerfeld + Laube</strong>
      <span>·</span>
      <a href="https://www.ingerfeldundlaube.de" target="_blank" rel="noreferrer">www.ingerfeldundlaube.de</a>
      <span>·</span>
      <span>Instagram:</span>
      <a href="https://www.instagram.com/ingerfeldundlaube/" target="_blank" rel="noreferrer">@ingerfeldundlaube</a>
    </div>
  </div>

  <script>
    // 1) Spinne beschriften
    const AXES = [
      { key: "1.1", label: "Kognitive Aktivierung" },
      { key: "1.2", label: "Prozessbeteiligung" },
      { key: "1.3", label: "Selbstwirksamkeit" },
      { key: "2.1", label: "Bedeutsamkeit des Lernens" },
      { key: "2.2", label: "Teilnahme/Verantwortung" },
      { key: "2.3", label: "Resonanz und Wirksamkeit" },
      { key: "3.1", label: "Transparenz: Qualität & Beurteilung" },
      { key: "3.2", label: "Reflexion von Lernprozessen" },
      { key: "3.3", label: "Wirkung & Anschlussfähigkeit" },
    ];

    function updateChips(row){
      const slider = row.querySelector('.slider');
      const chips = row.querySelectorAll('.chip');
      const v = Number(slider.value);
      chips.forEach((c,i)=> c.classList.toggle('active', i===v));
    }

    function getValues(){
      const rows = Array.from(document.querySelectorAll('.slider-row'));
      const domMap = {
        "1.1": 0, "2.1": 1, "3.1": 2,
        "1.2": 3, "2.2": 4, "3.2": 5,
        "1.3": 6, "2.3": 7, "3.3": 8
      };

      const valsByKey = {};
      Object.keys(domMap).forEach(k => {
        const row = rows[domMap[k]];
        valsByKey[k] = row ? Number(row.querySelector('.slider').value) : 0;
      });

      return AXES.map(a => valsByKey[a.key] ?? 0);
    }

    // Hilfsfunktion: Text in 2 Zeilen umbrechen (für Canvas)
    function wrap2(ctx, text, x, y, maxWidth, lineHeight){
      const words = text.split(" ");
      let line = "";
      const lines = [];
      for(const w of words){
        const test = (line ? line + " " : "") + w;
        if(ctx.measureText(test).width <= maxWidth){
          line = test;
        }else{
          if(line) lines.push(line);
          line = w;
        }
      }
      if(line) lines.push(line);
      // max 2 Zeilen
      const out = lines.slice(0,2);
      out.forEach((ln,i)=> ctx.fillText(ln, x, y + i*lineHeight));
    }

    function drawSpider(){
      const canvas = document.getElementById('spider');
      if(!canvas) return;

      const ctx = canvas.getContext('2d');
      const W = canvas.width;
      const H = canvas.height;

      ctx.clearRect(0,0,W,H);

      const values = getValues();
      const maxV = 2;

      const cx = W/2;
      const cy = H/2 + 8;
      const radius = Math.min(W, H) * 0.33;

      const lineCol = "rgba(255,255,255,.26)";
      const lineCol2 = "rgba(255,255,255,.14)";
      const textCol = "rgba(234,246,246,.95)";
      const fillCol = "rgba(244,162,97,.22)";
      const strokeCol = "rgba(244,162,97,.95)";

      // 3) Spinnennetz: mehr Ringe (statt nur 2)
      const rings = 6; // feinere Netzstruktur
      ctx.lineWidth = 1;
      for(let r=1; r<=rings; r++){
        const rr = radius * (r/rings);
        ctx.beginPath();
        for(let i=0; i<AXES.length; i++){
          const ang = (-Math.PI/2) + (i * 2*Math.PI/AXES.length);
          const x = cx + rr * Math.cos(ang);
          const y = cy + rr * Math.sin(ang);
          if(i===0) ctx.moveTo(x,y); else ctx.lineTo(x,y);
        }
        ctx.closePath();
        ctx.strokeStyle = (r % 2 === 0) ? lineCol : lineCol2;
        ctx.stroke();
      }

      // Speichen
      for(let i=0; i<AXES.length; i++){
        const ang = (-Math.PI/2) + (i * 2*Math.PI/AXES.length);
        const x = cx + radius * Math.cos(ang);
        const y = cy + radius * Math.sin(ang);
        ctx.beginPath();
        ctx.moveTo(cx, cy);
        ctx.lineTo(x, y);
        ctx.strokeStyle = lineCol;
        ctx.stroke();
      }

      // Labels (mit Umbruch)
      ctx.fillStyle = textCol;
      ctx.font = "700 15px system-ui, -apple-system, Segoe UI, Roboto, Arial";
      for(let i=0; i<AXES.length; i++){
        const ang = (-Math.PI/2) + (i * 2*Math.PI/AXES.length);
        const lx = cx + (radius + 38) * Math.cos(ang);
        const ly = cy + (radius + 38) * Math.sin(ang);

        ctx.textAlign =
          (Math.cos(ang) > 0.25) ? "left" :
          (Math.cos(ang) < -0.25) ? "right" : "center";

        ctx.textBaseline =
          (Math.sin(ang) > 0.25) ? "top" :
          (Math.sin(ang) < -0.25) ? "bottom" : "middle";

        wrap2(ctx, AXES[i].label, lx, ly, 180, 18);
      }

      // Fläche
      ctx.beginPath();
      for(let i=0; i<values.length; i++){
        const v = values[i];
        const rr = radius * (v/maxV);
        const ang = (-Math.PI/2) + (i * 2*Math.PI/AXES.length);
        const x = cx + rr * Math.cos(ang);
        const y = cy + rr * Math.sin(ang);
        if(i===0) ctx.moveTo(x,y); else ctx.lineTo(x,y);
      }
      ctx.closePath();
      ctx.fillStyle = fillCol;
      ctx.fill();
      ctx.lineWidth = 3;
      ctx.strokeStyle = strokeCol;
      ctx.stroke();

      // Punkte
      for(let i=0; i<values.length; i++){
        const v = values[i];
        const rr = radius * (v/maxV);
        const ang = (-Math.PI/2) + (i * 2*Math.PI/AXES.length);
        const x = cx + rr * Math.cos(ang);
        const y = cy + rr * Math.sin(ang);
        ctx.beginPath();
        ctx.arc(x,y,6,0,2*Math.PI);
        ctx.fillStyle = strokeCol;
        ctx.fill();
      }

      ctx.fillStyle = "rgba(207,232,232,.95)";
      ctx.font = "600 14px system-ui, -apple-system, Segoe UI, Roboto, Arial";
      ctx.textAlign = "left";
      ctx.textBaseline = "alphabetic";
    }

    document.querySelectorAll('.slider-row').forEach(row => {
      const slider = row.querySelector('.slider');
      slider.addEventListener('input', () => {
        updateChips(row);
        drawSpider();
      });
      updateChips(row);
    });

    document.getElementById('reset').addEventListener('click', () => {
      document.querySelectorAll('.slider-row').forEach(row => {
        const slider = row.querySelector('.slider');
        slider.value = 0;
        slider.dispatchEvent(new Event('input', { bubbles: true }));
      });
      drawSpider();
    });

    drawSpider();
  </script>
</body>
</html>
